{"version":3,"sources":["webpack:///./public/views/components/footer.jsx","webpack:///./public/views/dashboard/table.jsx","webpack:///./public/views/dashboard/lineChartStation.jsx","webpack:///./public/views/dashboard/barChartStation.jsx","webpack:///./public/views/dashboard/pieChartStation.jsx","webpack:///./public/views/dashboard/index.jsx","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$"],"names":["Footer","props","react_default","a","createElement","className","StationTable","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","moment","locale","React","Component","lib","defaultValue","placeholder","row","isExpandableRow","_ref","isExpanded","content","arr","expand","map","obj","i","date","fromNow","id","available_bikes","busy_bikes","options","hideSizePerPage","pageStartIndex","paginationSize","prePage","nextPage","firstPage","lastPage","sizePerPage","sizePerPageList","text","value","length","data","ignoreSinglePage","pagination","dataField","hidden","isKey","width","totalUsadas","totalLibres","searchPosition","paginationPosition","searchField","createCustomSearchField","expandRowBgColor","expandBy","sortIndicator","defaultSortName","defaultSortOrder","page","stations","class","ref","search","multiColumnSearch","expandableRow","expandComponent","expandColumnOptions","expandColumnVisible","expandColumnComponent","columnWidth","dataSort","LineChartStation","lineChartStation_classCallCheck","lineChartStation_possibleConstructorReturn","lineChartStation_getPrototypeOf","es6","height","margin","top","right","left","bottom","strokeDasharray","dataKey","verticalAlign","wrapperStyle","lineHeight","type","stroke","activeDot","r","startIndex","BarChartStation","barChartStation_classCallCheck","barChartStation_possibleConstructorReturn","barChartStation_getPrototypeOf","y","fill","PieChartStation","pieChartStation_classCallCheck","pieChartStation_possibleConstructorReturn","pieChartStation_getPrototypeOf","name","numeral","format","COLORS","RADIAN","Math","PI","cx","cy","labelLine","label","midAngle","innerRadius","outerRadius","percent","radius","index","x","cos","sin","textAnchor","dominantBaseline","concat","toFixed","entry","key","Dashboard","dashboard_classCallCheck","dashboard_getPrototypeOf","state","selectedOption","optionsFilter","mapStation","stations_history","forEach","element","push","buildChart","bind","dashboard_assertThisInitialized","handleChange","toString","disponibles","ocupadas","console","log","_this2","Promise","resolve","reject","station","match","minutes_ago","parseInt","then","history","filter","e","_this3","self","fetch","method","response","json","output","setState","graphs","Fragment","href","role","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","aria-label","aria-describedby","src","style","react_select_esm","onChange","lineChartStation_LineChartStation","barChartStation_BarChartStation","pieChartStation_PieChartStation","table_StationTable","footer","item","j","_this4","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","module","exports"],"mappings":"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AC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,WAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,KAIA,SAAAC,EAAAC,GACA,IAAAra,EAAAsa,EAAAD,GACA,OAAAE,EAAAva,GAEA,SAAAsa,EAAAD,GACA,IAAAE,EAAAC,EAAA7a,EAAA0a,GAAA,CACA,IAAA9R,EAAA,IAAAkS,MAAA,uBAAAJ,EAAA,KAEA,MADA9R,EAAAmS,KAAA,mBACAnS,EAEA,OAAA5I,EAAA0a,GAEAD,EAAAO,KAAA,WACA,OAAAC,OAAAD,KAAAhb,IAEAya,EAAAtS,QAAAwS,EACAO,EAAAC,QAAAV,EACAA,EAAApa,GAAA","file":"2.js","sourcesContent":["\nimport React from 'react';\n\nconst Footer = (props) => {\n\n    return (\n\n    <footer className=\"sticky-footer bg-white\">\n    <div className=\"container my-auto\">\n        <div className=\"copyright text-center my-auto\">\n        <span>www.enesalinas.com (2019)</span>\n        </div>\n    </div>\n    </footer>)\n\n}\n\nexport default Footer;","import React from 'react';\nimport {BootstrapTable, TableHeaderColumn, SearchField} from 'react-bootstrap-table';\nimport moment from 'moment';\n\nexport default class StationTable extends React.Component {\n\n    constructor(props)\n    {\n        super(props)\n\n        moment.locale('es')\n    }\n\n    createCustomSearchField(props) {\n        return (\n          <SearchField\n            className='find_by_station'\n            defaultValue=\"\"\n            placeholder=\"Búsqueda rápida..\"/>\n        );\n      }\n  \n    isExpandableRow(row) {\n        return true;\n    }\n\n      expandColumnComponent({ isExpandableRow, isExpanded }) {\n        let content = '';\n    \n        if (isExpandableRow) {\n          content = (isExpanded ? '(-)' : '(+)' );\n        } else {\n          content = ' ';\n        }\n        return (\n          <div> { content } </div>\n        );\n      }\n  \n      expandComponent(row) {\n        \n  \n        let arr = row.expand.map((obj,i) => {\n          return { date:  moment(obj.date).fromNow() , id: obj.id, available_bikes: obj.available_bikes, busy_bikes: obj.busy_bikes}\n        })\n  \n        let options = {\n                hideSizePerPage: true,\n                pageStartIndex: 1, \n                paginationSize: 3, \n                prePage: '<', \n                nextPage: '>', \n                firstPage: '<<', \n                //paginationPosition: 'top' ,\n                lastPage: '>>', \n                sizePerPage: 10,\n                sizePerPageList: [ {\n                  text: '10', value: 10\n                }, {\n                  text: '20', value: 20\n                }, {\n                  text: 'Todos', value: arr.length\n                } ]\n        }\n        \n        return (\n          <BootstrapTable data={ arr } ignoreSinglePage  pagination={true}  options={options}>\n            <TableHeaderColumn dataField='id' hidden isKey={ true }>ID</TableHeaderColumn>\n            <TableHeaderColumn width='40' dataField='available_bikes'>Disponibles</TableHeaderColumn>\n            <TableHeaderColumn width='40' dataField='busy_bikes'>Ocupadas</TableHeaderColumn>\n            <TableHeaderColumn width='90' dataField='date'>Última actualización</TableHeaderColumn>\n          </BootstrapTable>\n        );\n      }\n\n\n      render()\n      {\n\n        const options = {\n            totalUsadas: this.props.totalUsadas,\n            totalLibres: this.props.totalLibres,\n            searchPosition: 'left',\n            paginationPosition: 'top' ,\n            searchField: this.createCustomSearchField,\n            expandRowBgColor: 'rgb(255, 255, 255)',\n            expandBy: 'column',\n            sortIndicator: true,\n            defaultSortName: 'name',\n            defaultSortOrder: 'asc',\n            page: 1,\n            sizePerPageList: [ {\n            text: '10', value: 10\n            }, {\n            text: '20', value: 20\n            }\n            , {\n                text: '50', value: 50\n            }\n            , {\n            text: 'Todos', value: this.props.stations.length\n            } ],\n            sizePerPage: 10,\n            pageStartIndex: 1,\n            paginationSize: 3,\n            prePage: '<',\n            nextPage: '>',\n            firstPage: '<<',\n            lastPage: '>>'\n        }\n\n          return (\n          \n            <div className=\"card shadow mb-4\">\n                <div class=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\n                    <h6 class=\"m-0 font-weight-bold text-primary\">Estaciones</h6>\n                </div>\n                <div className=\"card-body\">\n                <div className=\"table-responsive\">\n                    \n                    <BootstrapTable \n                    ref='table'\n                    search={ true }\n                    ignoreSinglePage\n                    multiColumnSearch={ true }\n                    data={this.props.stations} \n                    expandableRow={ this.isExpandableRow }\n                    expandComponent={ this.expandComponent }\n                    expandColumnOptions={ {\n                        expandColumnVisible: true,\n                        expandColumnComponent: this.expandColumnComponent,\n                        columnWidth: 50\n                    } }\n                    pagination={true}  \n                    options={options}>\n                        <TableHeaderColumn hidden isKey dataField='id'></TableHeaderColumn>\n                        <TableHeaderColumn width='180'  dataField='name' dataSort>Ordenar</TableHeaderColumn>\n                        <TableHeaderColumn width='70' dataField='totalLibres' dataSort>Total Libres</TableHeaderColumn>\n                        <TableHeaderColumn width='80' dataField='totalUsadas' dataSort>Total Ocupadas</TableHeaderColumn>\n                        \n                    </BootstrapTable>\n\n                    </div>\n                </div>\n            </div>\n        )\n      }\n\n}","\nimport React from 'react';\nimport { LineChart, Line, Brush, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\n\nexport default class LineChartStation extends React.Component {\n\n    constructor(props)\n    {\n        super(props)\n    }\n\n    render()\n    {\n        return (\n            <div className=\"card shadow mb-4 \">\n                <div class=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\n                    <h6 class=\"m-0 font-weight-bold text-primary\">Últimos 60 minutos (disponibles vs ocupadas)</h6>\n                </div>\n            <div className=\"card-body\">\n            <LineChart\n                width={500}\n                height={300}\n                data={this.props.data}\n                margin={{\n                top: 5, right: 30, left: 20, bottom: 5,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"name\" />\n                <YAxis />\n                <Tooltip />\n                <Legend verticalAlign=\"top\" wrapperStyle={{ lineHeight: '40px' }} />\n                <Line type=\"monotone\" dataKey=\"ocupadas\" stroke=\"#8884d8\" activeDot={{ r: 8 }} />\n                <Line type=\"monotone\" dataKey=\"disponibles\" stroke=\"#82ca9d\" />\n                <Brush startIndex={50} dataKey=\"name\" height={30} stroke=\"#8884d8\" />\n            </LineChart>\n            </div>\n      \n      </div>\n        )\n    }\n\n}","\nimport React from 'react';\nimport { BarChart, Bar, Brush, ReferenceLine, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\n\nexport default class BarChartStation extends React.Component {\n\n    constructor(props)\n    {\n        super(props)\n    }\n\n    render()\n    {\n        return (\n            <div className=\"card shadow mb-4 \">\n                <div class=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\n                    <h6 class=\"m-0 font-weight-bold text-primary\">Gráfico de barras</h6>\n                </div>\n            <div className=\"card-body\">\n                <BarChart\n                    width={500}\n                    height={300}\n                    data={this.props.data}\n                    margin={{\n                    top: 5, right: 30, left: 20, bottom: 5,\n                }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"name\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Legend verticalAlign=\"top\" wrapperStyle={{ lineHeight: '40px' }} />\n                    <ReferenceLine y={0} stroke=\"#000\" />\n                    <Brush startIndex={50} dataKey=\"name\" height={30} stroke=\"#8884d8\" />\n                    <Bar dataKey=\"ocupadas\" fill=\"#8884d8\" />\n                    <Bar dataKey=\"disponibles\" fill=\"#82ca9d\" />\n                </BarChart>\n            </div>\n      \n      </div>\n        )\n    }\n\n}","import React from 'react';\nimport { PieChart, Pie, Legend, Cell } from 'recharts';\nimport numeral from 'numeral'\n\nexport default class PieChartStation extends React.Component {\n\n    constructor(props)\n    {\n        super(props)\n    }\n\n    render() {\n\n        const data = [\n            { name: 'disponibles (' +  numeral(this.props.totalLibres).format('0,0')+ ')', value: this.props.totalLibres },\n            { name: 'ocupadas (' +  numeral(this.props.totalUsadas).format('0,0')+ ')', value: this.props.totalUsadas }\n        ];\n          \n          const COLORS = ['#82ca9d', '#8884d8'];\n          \n          const RADIAN = Math.PI / 180;\n          const renderCustomizedLabel = ({\n            cx, cy, midAngle, innerRadius, outerRadius, percent, index,\n          }) => {\n            const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n            const x = cx + radius * Math.cos(-midAngle * RADIAN);\n            const y = cy + radius * Math.sin(-midAngle * RADIAN);\n          \n            return (\n              <text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\n                {`${(percent * 100).toFixed(0)}%`}\n              </text>\n            );\n          };\n\n        return (\n            <div className=\"card shadow mb-4\">\n                <div class=\"card-header py-3 d-flex flex-row align-items-center justify-content-between\">\n                    <h6 class=\"m-0 font-weight-bold text-primary\">Bicicletas ocupadas vs disponibles - Total: {numeral(this.props.totalLibres + this.props.totalUsadas).format('0,0')}</h6>\n                </div>\n                <div className=\"card-body\">\n                <PieChart width={400} height={400}>\n                    <Legend verticalAlign=\"top\" wrapperStyle={{ lineHeight: '40px' }} />\n                    <Pie\n                    data={data}\n                    cx={200}\n                    cy={200}\n                    labelLine={false}\n                    label={renderCustomizedLabel}\n                    outerRadius={80}\n                    fill=\"#8884d8\"\n                    dataKey=\"value\"\n                    >\n                    {\n                        data.map((entry, index) => <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />)\n                    }\n                    </Pie>\n                </PieChart>\n                    {/* <PieChart width={400} height={250}>\n                        <Legend verticalAlign=\"top\" wrapperStyle={{ lineHeight: '40px' }} />\n                        <Pie data={data01} startAngle={180} endAngle={0}  dataKey=\"value\" cx={200} cy={200} outerRadius={60} fill=\"#8884d8\"  />\n                        <Pie data={data02} startAngle={180} endAngle={0}  dataKey=\"value\" cx={200} cy={200} innerRadius={70} outerRadius={90} fill=\"#858796\" label />\n                    </PieChart> */}\n                </div>\n            </div>\n        )\n    }\n\n}\n\n","import React from 'react';\nimport Menu from '../components/menu'\nimport Footer from '../components/footer'\nimport StationTable from './table'\nimport LineChartStation from './lineChartStation'\nimport BarChartStation from './barChartStation'\nimport PieChartStation from './pieChartStation'\nimport Select from 'react-select';\nimport moment from 'moment';\n\n\nexport default class Dashboard extends React.Component {\n\n    constructor(props)\n    {\n        super(props)\n        \n        moment.locale('es')\n\n        this.state = {\n            selectedOption: null,\n            optionsFilter: [],\n            stations: [],\n            totalUsadas: 0,\n            totalLibres: 0,\n            data: []\n         }\n\n        this.state.stations = this.mapStation(props.stations,props.stations_history)\n\n        this.state.stations.forEach(element => {\n          this.state.optionsFilter.push({label: element.name, value: element.id })\n          this.state.totalLibres += element.totalLibres\n          this.state.totalUsadas += element.totalUsadas\n        });\n\n        this.buildChart = this.buildChart.bind(this)\n\n        this.handleChange = this.handleChange.bind(this)\n\n        //BarChar & LineChart\n        let data = []\n        \n        for(let i = 1; i <= 60; i++ )\n        {\n          data.push({ name: i.toString(), disponibles: 0, ocupadas: 0 })\n        }\n\n        this.state.data = data\n        console.log(this.state.data )\n\n        \n    }\n\n    loadGraph(){\n      \n      \n\n      //recorre las estaciones\n      let promise = new Promise((resolve,reject)=> {\n\n        this.state.stations.forEach(station => {\n          //recorre el historial\n          station.expand.forEach(element => {\n              \n              //verifica si contiene la frase: hace x minutos\n              let match = moment(element.date).fromNow().match(/hace (\\d+|un) (minutos|minuto)/g)\n  \n              //en el caso de que realice el match entra a este if\n              if(match != null && match.length > 0)\n              {\n                  let minutes_ago = 0\n                  //extrae el numero y lo resta con 60min\n                  if(match[0].match(/\\d+/g) != null)\n                      minutes_ago = (60 - parseInt(match[0].match(/\\d+/g)[0], 10))\n                  else\n                      minutes_ago = (60 - 1)\n                  \n                  for(let i = 1; i <= 60; i++)\n                  {\n                    if(typeof data[i] !== 'undefined')\n                    {\n                      console.log(data[i].name)\n                      debugger\n                      if(parseInt(data[i].name ,10) == minutes_ago)\n                      {\n                        data[i].name = data[i].name\n                        data[i].disponibles += element.available_bikes\n                        data[i].ocupadas += element.busy_bikes\n                      }\n                    }\n                  }\n              }\n                  \n              //console.log(moment(element.date).fromNow())\n          });\n        })\n\n        return resolve(data)\n\n      }) \n      \n      promise.then((data)=>{console.log(data); }) \n    \n    }\n\n    mapStation(stations, history){\n      \n      let arr = stations.map((obj, id) => {\n          \n        let log= history.filter((e)=>{\n          \n            return e.name == obj.name\n        })\n        \n        let totalLibres = 0\n        let totalUsadas = 0 \n\n        log.forEach(element => {\n          totalLibres += element.available_bikes\n          totalUsadas += element.busy_bikes\n        });\n\n        return { expand: log, id: obj.id, name: obj.name, totalLibres, totalUsadas }\n\n      })\n      \n      return arr\n    }    \n\n    handleChange(selectedOption)\n    {\n      const self = this\n      \n      fetch('http://localhost:3000/station/' + selectedOption.value, {\n          method: 'GET'\n      })\n      .then(response => response.json())\n      .then(output => {\n          console.log(output)\n          this.setState({ selectedOption });\n\n          let arr = this.mapStation(output.stations,output.stations_history)\n          \n          let totalLibres = 0\n          let totalUsadas = 0\n\n          arr.forEach(element => {\n            totalLibres += element.totalLibres\n            totalUsadas += element.totalUsadas\n          });\n\n          //BarChar & LineChart\n          let data = []\n            \n          for(let i = 1; i <= 60; i++ )\n          {\n            data.push({ name: i.toString(), disponibles: 0, ocupadas: 0 })\n          }\n\n          this.setState({stations:arr, totalLibres, totalUsadas,data},()=>{\n            output.graphs.forEach((e)=>{\n              self.buildChart(e)\n            })\n          })\n\n          \n\n      })     \n    }\n\n    render() {\n\n      return (\n      <React.Fragment>\n\n        <div id=\"content-wrapper\" className=\"d-flex flex-column\">\n          <div id=\"content\">\n            <nav className=\"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow\">\n              <button id=\"sidebarToggleTop\" className=\"btn btn-link d-md-none rounded-circle mr-3\">\n                <i className=\"fa fa-bars\"></i>\n              </button>\n\n              <ul className=\"navbar-nav ml-auto\">\n                <li className=\"nav-item dropdown no-arrow d-sm-none\">\n                  <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"searchDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <i className=\"fas fa-search fa-fw\"></i>\n                  </a>\n                  <div className=\"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in\" aria-labelledby=\"searchDropdown\">\n                    <form className=\"form-inline mr-auto w-100 navbar-search\">\n                      <div className=\"input-group\">\n                        <input type=\"text\" className=\"form-control bg-light border-0 small\" placeholder=\"Search for...\" aria-label=\"Search\" aria-describedby=\"basic-addon2\" />\n                        <div className=\"input-group-append\">\n                          <button className=\"btn btn-primary\" type=\"button\">\n                            <i className=\"fas fa-search fa-sm\"></i>\n                          </button>\n                        </div>\n                      </div>\n                    </form>\n                  </div>\n                </li>\n                <div className=\"topbar-divider d-none d-sm-block\"></div>\n                <li className=\"nav-item dropdown no-arrow\">\n                  <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"userDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <span className=\"mr-2 d-none d-lg-inline text-gray-600 small\">Nelson Salinas</span>\n                    <img className=\"img-profile rounded-circle\" src=\"https://media.licdn.com/dms/image/C4E03AQHdzqhc2W7bpw/profile-displayphoto-shrink_200_200/0?e=1560384000&v=beta&t=JbLwuGeVX60UWJ3Fbe54OsqhagIWV5mV1RoOy71ljjQ\" />\n                  </a>\n                </li>\n              </ul>\n            </nav>\n            <div className=\"container-fluid\">\n            <div className=\"row\">\n            <div className=\"col-xl-1 col-lg-1\">\n                </div>\n                <div className=\"col-xl-10 col-lg-120\">\n              <div class=\"d-sm-flex align-items-center justify-content-between mb-4\">\n                  <h1 class=\"h3 mb-0 text-gray-800\">Dashboard</h1>\n              </div>\n              </div>\n              <div className=\"col-xl-1 col-lg-1\">\n                </div>\n                </div>\n              <div className=\"row\">\n                <div className=\"col-xl-1 col-lg-1\">\n                </div>\n                <div className=\"col-xl-10 col-lg-120\">\n                  <div className=\"card shadow mb-4\">\n                    <div className=\"card-body\" >\n                        <div style={{width:500 + 'px'}}>\n                          <Select\n                            placeholder=\"Filtrar por estación\"\n                            value={ this.state.selectedOption}\n                            onChange={this.handleChange}\n                            options={this.state.optionsFilter}\n                            />\n                        </div>\n                    </div>\n                  </div>  \n                </div>\n                <div className=\"col-xl-1 col-lg-1\">\n                </div>\n              </div>\n                    \n              <div className=\"row\">\n                <div className=\"col-xl-1 col-lg-1\">\n                </div>\n                <div className=\"col-xl-5 col-lg-5\">\n                  <LineChartStation data={this.state.data}></LineChartStation>\n\n                  <BarChartStation data={this.state.data} ></BarChartStation>\n\n                  <PieChartStation totalLibres={this.state.totalLibres} totalUsadas={this.state.totalUsadas}></PieChartStation>\n                  \n                </div>\n\n                <div className=\"col-xl-5 col-lg-5\">\n                  <StationTable \n                      stations={this.state.stations} \n                      totalLibres={this.state.totalLibres} \n                      totalUsadas={this.state.totalUsadas}>\n                    </StationTable>\n                </div>\n                <div className=\"col-xl-1 col-lg-1\">\n                </div>\n              </div>\n            </div>\n          </div>\n          <Footer></Footer>\n        </div>\n        \n      </React.Fragment>\n      )\n    }\n\n    buildChart(element)\n    {\n      //verifica si contiene la frase: hace x minutos\n      let match = moment(element.date).fromNow().match(/hace (\\d+|un) (minutos|minuto)/g)\n  \n      //en el caso de que realice el match entra a este if\n      if(match != null && match.length > 0)\n      {\n          let minutes_ago = 0\n          //extrae el numero y lo resta con 60min\n          if(match[0].match(/\\d+/g) != null)\n              minutes_ago = (60 - parseInt(match[0].match(/\\d+/g)[0], 10))\n          else\n              minutes_ago = (60 - 1)\n          \n          \n          \n          this.setState(state => {\n            // const filter = state.data.filter(e => {\n            //   return parseInt(e.name, 10) == minutes_ago\n            // })\n            const data = state.data.map((item, j) => {\n              \n              if (parseInt(item.name, 10) == minutes_ago) \n              {\n                console.log(\"======================\")\n                console.log(\"minutes:\" + minutes_ago)\n                item.disponibles += element.available_bikes\n                item.ocupadas += element.busy_bikes\n                console.log(\"======================\")\n                return item\n              } \n              else \n              {\n                return item;\n              }\n            });\n      \n            return {\n              data\n            };\n          });\n\n\n\n          // for(let i = 0; i <= this.state.data.length; i++)\n          // {\n          //   if(this.state.data[i].name == minutes_ago)\n          //   {\n\n              \n\n          //     // let temp = this.state.data[i]\n          //     // this.setState({data: })\n          //     // let tmp = [...this.state.data];\n          //     // tmp[i]['name'] = res.data.length\n          //     // this.setState({contributors: tmp})\n\n          //     // this.state.data.forEach(element => {\n              \n          //     // });\n          //   }\n          // }\n          \n\n          // let found = this.state.data.find(e=>{\n          //   return parseInt(e.name, 10) == minutes_ago\n          // })\n\n          // if(found != null)\n          // {\n          //   console.log(found)\n          //   found.disponibles += element.available_bikes\n          //   found.usadas += element.busy_bikes\n          // }\n      }\n    }\n\n    componentDidMount()\n    {\n      this.props.graphs.forEach(element => {\n\n        this.buildChart(element)\n\n        // let logs = station.expand.filter((e)=>{\n          \n        //   return e.date > date && e.date < Date.now()\n        // })\n\n        //recorre el historial\n        // station.expand.forEach(element => {\n\n          \n\n        //   //verifica si contiene la frase: hace x minutos\n        //   let match = moment(element.date).fromNow().match(/hace (\\d+|un) (minutos|minuto)/g)\n  \n        //   //en el caso de que realice el match entra a este if\n        //   if(match != null && match.length > 0)\n        //   {\n        //       let minutes_ago = 0\n        //       //extrae el numero y lo resta con 60min\n        //       if(match[0].match(/\\d+/g) != null)\n        //           minutes_ago = (60 - parseInt(match[0].match(/\\d+/g)[0], 10))\n        //       else\n        //           minutes_ago = (60 - 1)\n              \n        //       console.log(\"estoy aca\")\n        //       // for(let i = 1; i <= 60; i++)\n        //       // {\n        //       //   if(typeof data[i] !== 'undefined')\n        //       //   {\n        //       //     console.log(data[i].name)\n        //       //     debugger\n        //       //     if(parseInt(data[i].name ,10) == minutes_ago)\n        //       //     {\n        //       //       data[i].name = data[i].name\n        //       //       data[i].disponibles += element.available_bikes\n        //       //       data[i].usadas += element.busy_bikes\n        //       //     }\n        //       //   }\n        //       // }\n        //   }\n        // })\n      })\n    }\n}\n","var map = {\n\t\"./af\": 178,\n\t\"./af.js\": 178,\n\t\"./ar\": 179,\n\t\"./ar-dz\": 180,\n\t\"./ar-dz.js\": 180,\n\t\"./ar-kw\": 181,\n\t\"./ar-kw.js\": 181,\n\t\"./ar-ly\": 182,\n\t\"./ar-ly.js\": 182,\n\t\"./ar-ma\": 183,\n\t\"./ar-ma.js\": 183,\n\t\"./ar-sa\": 184,\n\t\"./ar-sa.js\": 184,\n\t\"./ar-tn\": 185,\n\t\"./ar-tn.js\": 185,\n\t\"./ar.js\": 179,\n\t\"./az\": 186,\n\t\"./az.js\": 186,\n\t\"./be\": 187,\n\t\"./be.js\": 187,\n\t\"./bg\": 188,\n\t\"./bg.js\": 188,\n\t\"./bm\": 189,\n\t\"./bm.js\": 189,\n\t\"./bn\": 190,\n\t\"./bn.js\": 190,\n\t\"./bo\": 191,\n\t\"./bo.js\": 191,\n\t\"./br\": 192,\n\t\"./br.js\": 192,\n\t\"./bs\": 193,\n\t\"./bs.js\": 193,\n\t\"./ca\": 194,\n\t\"./ca.js\": 194,\n\t\"./cs\": 195,\n\t\"./cs.js\": 195,\n\t\"./cv\": 196,\n\t\"./cv.js\": 196,\n\t\"./cy\": 197,\n\t\"./cy.js\": 197,\n\t\"./da\": 198,\n\t\"./da.js\": 198,\n\t\"./de\": 199,\n\t\"./de-at\": 200,\n\t\"./de-at.js\": 200,\n\t\"./de-ch\": 201,\n\t\"./de-ch.js\": 201,\n\t\"./de.js\": 199,\n\t\"./dv\": 202,\n\t\"./dv.js\": 202,\n\t\"./el\": 203,\n\t\"./el.js\": 203,\n\t\"./en-SG\": 204,\n\t\"./en-SG.js\": 204,\n\t\"./en-au\": 205,\n\t\"./en-au.js\": 205,\n\t\"./en-ca\": 206,\n\t\"./en-ca.js\": 206,\n\t\"./en-gb\": 207,\n\t\"./en-gb.js\": 207,\n\t\"./en-ie\": 208,\n\t\"./en-ie.js\": 208,\n\t\"./en-il\": 209,\n\t\"./en-il.js\": 209,\n\t\"./en-nz\": 210,\n\t\"./en-nz.js\": 210,\n\t\"./eo\": 211,\n\t\"./eo.js\": 211,\n\t\"./es\": 212,\n\t\"./es-do\": 213,\n\t\"./es-do.js\": 213,\n\t\"./es-us\": 214,\n\t\"./es-us.js\": 214,\n\t\"./es.js\": 212,\n\t\"./et\": 215,\n\t\"./et.js\": 215,\n\t\"./eu\": 216,\n\t\"./eu.js\": 216,\n\t\"./fa\": 217,\n\t\"./fa.js\": 217,\n\t\"./fi\": 218,\n\t\"./fi.js\": 218,\n\t\"./fo\": 219,\n\t\"./fo.js\": 219,\n\t\"./fr\": 220,\n\t\"./fr-ca\": 221,\n\t\"./fr-ca.js\": 221,\n\t\"./fr-ch\": 222,\n\t\"./fr-ch.js\": 222,\n\t\"./fr.js\": 220,\n\t\"./fy\": 223,\n\t\"./fy.js\": 223,\n\t\"./ga\": 224,\n\t\"./ga.js\": 224,\n\t\"./gd\": 225,\n\t\"./gd.js\": 225,\n\t\"./gl\": 226,\n\t\"./gl.js\": 226,\n\t\"./gom-latn\": 227,\n\t\"./gom-latn.js\": 227,\n\t\"./gu\": 228,\n\t\"./gu.js\": 228,\n\t\"./he\": 229,\n\t\"./he.js\": 229,\n\t\"./hi\": 230,\n\t\"./hi.js\": 230,\n\t\"./hr\": 231,\n\t\"./hr.js\": 231,\n\t\"./hu\": 232,\n\t\"./hu.js\": 232,\n\t\"./hy-am\": 233,\n\t\"./hy-am.js\": 233,\n\t\"./id\": 234,\n\t\"./id.js\": 234,\n\t\"./is\": 235,\n\t\"./is.js\": 235,\n\t\"./it\": 236,\n\t\"./it-ch\": 237,\n\t\"./it-ch.js\": 237,\n\t\"./it.js\": 236,\n\t\"./ja\": 238,\n\t\"./ja.js\": 238,\n\t\"./jv\": 239,\n\t\"./jv.js\": 239,\n\t\"./ka\": 240,\n\t\"./ka.js\": 240,\n\t\"./kk\": 241,\n\t\"./kk.js\": 241,\n\t\"./km\": 242,\n\t\"./km.js\": 242,\n\t\"./kn\": 243,\n\t\"./kn.js\": 243,\n\t\"./ko\": 244,\n\t\"./ko.js\": 244,\n\t\"./ku\": 245,\n\t\"./ku.js\": 245,\n\t\"./ky\": 246,\n\t\"./ky.js\": 246,\n\t\"./lb\": 247,\n\t\"./lb.js\": 247,\n\t\"./lo\": 248,\n\t\"./lo.js\": 248,\n\t\"./lt\": 249,\n\t\"./lt.js\": 249,\n\t\"./lv\": 250,\n\t\"./lv.js\": 250,\n\t\"./me\": 251,\n\t\"./me.js\": 251,\n\t\"./mi\": 252,\n\t\"./mi.js\": 252,\n\t\"./mk\": 253,\n\t\"./mk.js\": 253,\n\t\"./ml\": 254,\n\t\"./ml.js\": 254,\n\t\"./mn\": 255,\n\t\"./mn.js\": 255,\n\t\"./mr\": 256,\n\t\"./mr.js\": 256,\n\t\"./ms\": 257,\n\t\"./ms-my\": 258,\n\t\"./ms-my.js\": 258,\n\t\"./ms.js\": 257,\n\t\"./mt\": 259,\n\t\"./mt.js\": 259,\n\t\"./my\": 260,\n\t\"./my.js\": 260,\n\t\"./nb\": 261,\n\t\"./nb.js\": 261,\n\t\"./ne\": 262,\n\t\"./ne.js\": 262,\n\t\"./nl\": 263,\n\t\"./nl-be\": 264,\n\t\"./nl-be.js\": 264,\n\t\"./nl.js\": 263,\n\t\"./nn\": 265,\n\t\"./nn.js\": 265,\n\t\"./pa-in\": 266,\n\t\"./pa-in.js\": 266,\n\t\"./pl\": 267,\n\t\"./pl.js\": 267,\n\t\"./pt\": 268,\n\t\"./pt-br\": 269,\n\t\"./pt-br.js\": 269,\n\t\"./pt.js\": 268,\n\t\"./ro\": 270,\n\t\"./ro.js\": 270,\n\t\"./ru\": 271,\n\t\"./ru.js\": 271,\n\t\"./sd\": 272,\n\t\"./sd.js\": 272,\n\t\"./se\": 273,\n\t\"./se.js\": 273,\n\t\"./si\": 274,\n\t\"./si.js\": 274,\n\t\"./sk\": 275,\n\t\"./sk.js\": 275,\n\t\"./sl\": 276,\n\t\"./sl.js\": 276,\n\t\"./sq\": 277,\n\t\"./sq.js\": 277,\n\t\"./sr\": 278,\n\t\"./sr-cyrl\": 279,\n\t\"./sr-cyrl.js\": 279,\n\t\"./sr.js\": 278,\n\t\"./ss\": 280,\n\t\"./ss.js\": 280,\n\t\"./sv\": 281,\n\t\"./sv.js\": 281,\n\t\"./sw\": 282,\n\t\"./sw.js\": 282,\n\t\"./ta\": 283,\n\t\"./ta.js\": 283,\n\t\"./te\": 284,\n\t\"./te.js\": 284,\n\t\"./tet\": 285,\n\t\"./tet.js\": 285,\n\t\"./tg\": 286,\n\t\"./tg.js\": 286,\n\t\"./th\": 287,\n\t\"./th.js\": 287,\n\t\"./tl-ph\": 288,\n\t\"./tl-ph.js\": 288,\n\t\"./tlh\": 289,\n\t\"./tlh.js\": 289,\n\t\"./tr\": 290,\n\t\"./tr.js\": 290,\n\t\"./tzl\": 291,\n\t\"./tzl.js\": 291,\n\t\"./tzm\": 292,\n\t\"./tzm-latn\": 293,\n\t\"./tzm-latn.js\": 293,\n\t\"./tzm.js\": 292,\n\t\"./ug-cn\": 294,\n\t\"./ug-cn.js\": 294,\n\t\"./uk\": 295,\n\t\"./uk.js\": 295,\n\t\"./ur\": 296,\n\t\"./ur.js\": 296,\n\t\"./uz\": 297,\n\t\"./uz-latn\": 298,\n\t\"./uz-latn.js\": 298,\n\t\"./uz.js\": 297,\n\t\"./vi\": 299,\n\t\"./vi.js\": 299,\n\t\"./x-pseudo\": 300,\n\t\"./x-pseudo.js\": 300,\n\t\"./yo\": 301,\n\t\"./yo.js\": 301,\n\t\"./zh-cn\": 302,\n\t\"./zh-cn.js\": 302,\n\t\"./zh-hk\": 303,\n\t\"./zh-hk.js\": 303,\n\t\"./zh-tw\": 304,\n\t\"./zh-tw.js\": 304\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 404;"],"sourceRoot":""}